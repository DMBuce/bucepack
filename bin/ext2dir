#!/bin/bash
# converts paths like
#
#  data/buce/artifact/splendor/glowing/activate.function.mcfunction
#  buce-data/artifact/splendor/glowing/trigger.advancement.json
#  buce-data/recipes/crafting/plentiful/solid_door.item.tag.json
#
# to
#
#  data/buce/functions/artifact/splendor/glowing/activate.mcfunction
#  data/buce/advancementsartifact/splendor/glowing/trigger.json
#  data/buce/tags/items/recipes/crafting/plentiful/solid_door.json
#

sed -r '
	/deleteme/d
	/disabled/d
	s/.sempl$//
	s/.yaml$//
	s,([^/ \t]*)-data,data/\1,g
	s,data/([^/]*)/(.*)\.([^./]*)\.([^./]*),data/\1/\3s/\2.\4,g
	/\/tags\// s,/tags/(.*)\.([^.]*)\.([^.]*),/tags/\2s/\1.\3,
	s,/dimensions/,/dimension/,
	s,/dimension_types/,/dimension_type/,
' "$@"

